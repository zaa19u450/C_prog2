# Тесты для лабораторной работы 7, вариант 1

## Задание

Написать программу, которая упорядочивает данные в целочисленном массиве по возрастанию.
Данные в массив считываются из текстового файла.
Память под массив выделяется динамически. 
Количество элементов в файле не указано и определяется при первом
проходе по текстовому файлу, во время второго прохода числа считываются в массив.
Требуется написать программу, которая, будучи вызванной из командной строки:

`app.exe IN_FILE OUT_FILE [f]`

где IN_FILE — имя файла с входными данными, OUT_FILE — имя файла с выходными
данными, f — запрос фильтрации перед сортировкой;

- 01. Считает количество элементов, записанных в файле.
- 02. Выделяет память под соответствующее количество элементов.
- 03. Читает файл ещё раз, заполняя динамический массив.
- 04. Если указан параметр f, вызывает функцию-фильтр.
- 05. Сортирует массив с новыми элементами с помощью модифицированной сортировки пузырьком III
- 06. Записывает элементы отсортированного массива в текстовый файл.

## Функция-фильтр

работает следующим образом:
- 01. определяет количество элементов массива, которые удовлетворяют заданному условию;
- 02. выделяет память под соответствующее количество элементов;
- 03. копирует элементы, удовлетворяющие условию, из старого массива в новый.

Функция-фильтр имеет следующие название и прототип:

`int key(const int *pb_src, const int *pe_src, int **pb_dst, int **pe_dst);`

На вход функции-фильтру могут поступать некорректные данные.

*Задание для функции-фильтра*:

В массиве остаются элементы расположенные между минимальным и максимальным
элементами массива. Если минимальных и/или максимальных элементов несколько,
из берется первый минимальный и первый максимальный элементы. Минимальный
и максимальный элементы в отфильтрованный массив не попадают.

## Модифицированная сортировка пузырьком III

- Сортировка метод пузырька: последовательно сравниваются пары соседних элементов 
x[k] и x[k+1] (k = 0, 1, . . . , n-2) и, если x[k] > x[k+1], то они
переставляются; в результате наибольший элемент окажется на своём месте в конце
массива; затем этот метод применяется ко всем элементам, кроме последнего, и т.д.

- Модифицированная сортировка пузырьком I: Запоминайте, где произошёл последний обмен элементов, 
и при следующем проходе алгоритм не заходит за это место.
Если последними поменялись i-ый и i+1-ый элементы, то при следующем проходе
алгоритм не сравнивает элементы за i-м.
- Модифицированная сортировка пузырьком II: нечётные и чётные проходы выполняются в противоположных
 направлениях: нечётные проходы от начала к концу,
чётные – от конца массива к его началу. При нечётных проходах большие элементы
сдвигаются к концу массива, а при чётных проходах – меньшие элементы двигаются
к его началу.

- *Модифицированная сортировка пузырьком III: идеи первой и второй модифицированной
 сортировки пузырьком объединяются.*

Функция сортировки реализуется универсальной, т. е. имеет одинаковый прототип с
функцией qsort 
(`void qsort(void *first, size_t number, size_t size, int(*comparator)(const void*, const void*));`
из стандартной библиотеки и называется mysort.

Прототип: `void mysort(void *first, size_t number, size_t size, int(*comparator)(const void*, const void*));`

Кроме того, необходимо сравнить время работы реализованного алгоритма сортировки
и qsort, найти примеры, когда наша реализация лучше. 
Результаты представить в виде графиков (рисунки в формате PNG или любом аналогичном векторном, оси
подписаны). Графики разместить в Wiki на отдельной странице. Графики можно строить
любыми средствами (например, в Excel, gnuplot).

## Примечания
- 01. В методических целях запрещено использовать обращения к элементам массива с
помощью квадратных скобок. Вместо указанного выражения используется выражение *pa, где pa — указатель на i-ый 
элемент массива (именно на i-ый элемент, а не выражение вида *(pa + i)). 
- 02. Также нельзя передавать как аргумент размер массива
в элементах, если массив уже создан. Вместо этого предлагается использовать пару
указателей: на первый элемент массива и на элемент массива, расположенный за
последним. 
- 03. В методических целях запрещено использовать realloc.
- 04. Обработка пустого файла или получение пустого массива после фильтрации рассматриваются как ошибки.

# Тесты

## Аргуметы командной строки
app.exe IN_FILE OUT_FILE [f]

## Входные данные во входном текстовом файле
Целые чила

## Выходные данные в выходном текстовом файле
Отфильтрованные (при необходимости) и отсортированные числа из входного файла

## Негативные тесты:

### Неверные аргументы командной строки 
- 01 - недостаточно аргументов;
- 02 - слишком много аргументов;
- 03 - неверный последний аргумент (не f);
- 04 - ошибка открытия входного файла;
(для вышеперечисленных тестов не важны входные и выходные файлы

## Ошибки, связанные с содержимым файла
- 06 - пустой файл;
- 07 - нечисловое значение в файле;
- 08 - после использования функции-фильтра не осталось чисел для сортировки;


## Позитивные тесты:
### Без применения функции-фильтра (проверяем сортировку)
- 01 - обычный массив (есть положительные, отрицательные и 0);
- 02 - массив с повторяющимися элементами;
- 03 - упорядоченный массив;
- 04 - массив из одинкавых элементов;
- 05 - массив из одного элемента;

### С применением функции-фильтра
- 06 - обычный массив (есть положительные, отрицательные и 0);
- 07 - между максимальным и минимальным элементами остается только один;
- 08 - сначала идет максимальный, и только потом минимальный;
- 09 - массив с повторяющимися максимальным и минимальным элементами;

